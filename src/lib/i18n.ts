export const translations = {
  'pt-BR': {
    app: {
      title: 'Explorador de Pacotes Winget',
      subtitle: 'Pesquise e explore aplicativos do Gerenciador de Pacotes do Windows',
    },
    search: {
      placeholder: 'Pesquisar pacotes por nome, ID ou editor...',
      categories: 'Categorias',
      tags: 'Tags',
      allTags: 'Todas as tags',
      searchTag: 'Buscar tag...',
      noTagFound: 'Nenhuma tag encontrada.',
      allCategories: 'Todas as categorias',
      searchCategory: 'Buscar categoria...',
      noCategoryFound: 'Nenhuma categoria encontrada.',
      clear: 'Limpar',
      showMore: '+{{count}} mais',
      showLess: 'Mostrar menos',
      resultsCount: '{{count}} pacote encontrado',
      resultsCount_plural: '{{count}} pacotes encontrados',
      showingLimited: 'Exibindo {{showing}} de {{total}} pacotes. Use a busca para ver mais.',
      totalCataloged: 'pacotes catalogados disponíveis para busca',
      loading: 'Carregando pacotes...',
    },
    packageCard: {
      noDescription: 'Sem descrição disponível',
      version: 'v{{version}}',
    },
    packageDetail: {
      publisher: 'Editor',
      description: 'Descrição',
      homepage: 'Site',
      tags: 'Tags',
      installCommand: 'Comando de Instalação',
      copyCommand: 'Copiar Comando de Instalação',
      license: 'Licença',
    },
    emptyState: {
      title: 'Nenhum pacote encontrado',
      withSearch: 'Nenhum pacote corresponde a "{{query}}". Tente um termo diferente ou limpe seus filtros.',
      withoutSearch: 'Comece pesquisando por nome de pacote, ID ou editor.',
    },
    alerts: {
      mockData: 'Não foi possível conectar à API do GitHub. Exibindo dados de exemplo.',
      staticData: 'Exibindo dados de pacotes pré-processados - atualizados semanalmente',
      apiData: 'Conectado à API do GitHub - exibindo dados ao vivo de microsoft/winget-pkgs',
      retry: 'Tentar novamente',
      copied: 'Comando de instalação copiado para a área de transferência',
    },
    language: {
      label: 'Idioma',
      'pt-BR': 'Português (Brasil)',
      'en-US': 'English (USA)',
      'es-ES': 'Español',
      'fr-FR': 'Français',
      'de-DE': 'Deutsch',
    },
    footer: {
      about: 'Sobre',
      description: 'O Explorador de Pacotes Winget é uma interface web para pesquisar e descobrir aplicativos disponíveis no Windows Package Manager (winget). Os dados são atualizados semanalmente a partir do repositório oficial microsoft/winget-pkgs.',
      dataVersion: 'Dados atualizados em',
      siteVersion: 'Build do site',
      totalPackages: 'Total de pacotes',
      viewOnGithub: 'Ver no GitHub',
      wingetPkgs: 'winget-pkgs',
      workflowStatus: 'Status do processamento de dados',
      developedBy: 'Desenvolvido por',
      madeWith: 'Feito com',
      by: 'por',
    },
  },
  'en-US': {
    app: {
      title: 'Winget Package Explorer',
      subtitle: 'Search and explore Windows Package Manager applications',
    },
    search: {
      placeholder: 'Search packages by name, ID, or publisher...',
      categories: 'Categories',
      tags: 'Tags',
      allTags: 'All tags',
      searchTag: 'Search tag...',
      noTagFound: 'No tag found.',
      allCategories: 'All categories',
      searchCategory: 'Search category...',
      noCategoryFound: 'No category found.',
      clear: 'Clear',
      showMore: '+{{count}} more',
      showLess: 'Show less',
      resultsCount: '{{count}} package found',
      resultsCount_plural: '{{count}} packages found',
      showingLimited: 'Showing {{showing}} of {{total}} packages. Use search to see more.',
      totalCataloged: 'packages cataloged and available for search',
      loading: 'Loading packages...',
    },
    packageCard: {
      noDescription: 'No description available',
      version: 'v{{version}}',
    },
    packageDetail: {
      publisher: 'Publisher',
      description: 'Description',
      homepage: 'Homepage',
      tags: 'Tags',
      installCommand: 'Install Command',
      copyCommand: 'Copy Install Command',
      license: 'License',
    },
    emptyState: {
      title: 'No packages found',
      withSearch: 'No packages match "{{query}}". Try a different search term or clear your filters.',
      withoutSearch: 'Start by searching for a package name, ID, or publisher.',
    },
    alerts: {
      mockData: 'Unable to connect to GitHub API. Showing sample data.',
      staticData: 'Showing pre-processed package data - updated weekly',
      apiData: 'Connected to GitHub API - showing live data from microsoft/winget-pkgs',
      retry: 'Retry',
      copied: 'Install command copied to clipboard',
    },
    language: {
      label: 'Language',
      'pt-BR': 'Português (Brasil)',
      'en-US': 'English (USA)',
      'es-ES': 'Español',
      'fr-FR': 'Français',
      'de-DE': 'Deutsch',
    },
    footer: {
      about: 'About',
      description: 'Winget Package Explorer is a web interface to search and discover applications available on Windows Package Manager (winget). Data is updated weekly from the official microsoft/winget-pkgs repository.',
      dataVersion: 'Data updated on',
      siteVersion: 'Site build',
      totalPackages: 'Total packages',
      viewOnGithub: 'View on GitHub',
      wingetPkgs: 'winget-pkgs',
      workflowStatus: 'Data processing status',
      developedBy: 'Developed by',
      madeWith: 'Made with',
      by: 'by',
    },
  },
  'es-ES': {
    app: {
      title: 'Explorador de Paquetes Winget',
      subtitle: 'Busca y explora aplicaciones del Administrador de Paquetes de Windows',
    },
    search: {
      placeholder: 'Buscar paquetes por nombre, ID o editor...',
      categories: 'Categorías',
      tags: 'Tags',
      allTags: 'Todas las tags',
      searchTag: 'Buscar tag...',
      noTagFound: 'Ninguna tag encontrada.',
      allCategories: 'Todas las categorías',
      searchCategory: 'Buscar categoría...',
      noCategoryFound: 'Ninguna categoría encontrada.',
      clear: 'Limpiar',
      showMore: '+{{count}} más',
      showLess: 'Mostrar menos',
      resultsCount: '{{count}} paquete encontrado',
      resultsCount_plural: '{{count}} paquetes encontrados',
      showingLimited: 'Mostrando {{showing}} de {{total}} paquetes. Use la búsqueda para ver más.',
      totalCataloged: 'paquetes catalogados disponibles para búsqueda',
      loading: 'Cargando paquetes...',
    },
    packageCard: {
      noDescription: 'Sin descripción disponible',
      version: 'v{{version}}',
    },
    packageDetail: {
      publisher: 'Editor',
      description: 'Descripción',
      homepage: 'Página web',
      tags: 'Etiquetas',
      installCommand: 'Comando de Instalación',
      copyCommand: 'Copiar Comando de Instalación',
      license: 'Licencia',
    },
    emptyState: {
      title: 'No se encontraron paquetes',
      withSearch: 'Ningún paquete coincide con "{{query}}". Intenta con un término diferente o borra tus filtros.',
      withoutSearch: 'Comienza buscando por nombre de paquete, ID o editor.',
    },
    alerts: {
      mockData: 'No se pudo conectar a la API de GitHub. Mostrando datos de ejemplo.',
      staticData: 'Mostrando datos de paquetes preprocesados - actualizados semanalmente',
      apiData: 'Conectado a la API de GitHub - mostrando datos en vivo de microsoft/winget-pkgs',
      retry: 'Reintentar',
      copied: 'Comando de instalación copiado al portapapeles',
    },
    language: {
      label: 'Idioma',
      'pt-BR': 'Português (Brasil)',
      'en-US': 'English (USA)',
      'es-ES': 'Español',
      'fr-FR': 'Français',
      'de-DE': 'Deutsch',
    },
    footer: {
      about: 'Acerca de',
      description: 'El Explorador de Paquetes Winget es una interfaz web para buscar y descubrir aplicaciones disponibles en Windows Package Manager (winget). Los datos se actualizan semanalmente desde el repositorio oficial microsoft/winget-pkgs.',
      dataVersion: 'Datos actualizados el',
      siteVersion: 'Build del sitio',
      totalPackages: 'Total de paquetes',
      viewOnGithub: 'Ver en GitHub',
      wingetPkgs: 'winget-pkgs',
      workflowStatus: 'Estado del procesamiento de datos',
      developedBy: 'Desarrollado por',
      madeWith: 'Hecho con',
      by: 'por',
    },
  },
  'fr-FR': {
    app: {
      title: 'Explorateur de Paquets Winget',
      subtitle: 'Recherchez et explorez les applications du Gestionnaire de Paquets Windows',
    },
    search: {
      placeholder: 'Rechercher des paquets par nom, ID ou éditeur...',
      categories: 'Catégories',
      tags: 'Tags',
      allTags: 'Toutes les tags',
      searchTag: 'Rechercher une tag...',
      noTagFound: 'Aucune tag trouvée.',
      allCategories: 'Toutes les catégories',
      searchCategory: 'Rechercher une catégorie...',
      noCategoryFound: 'Aucune catégorie trouvée.',
      clear: 'Effacer',
      showMore: '+{{count}} de plus',
      showLess: 'Afficher moins',
      resultsCount: '{{count}} paquet trouvé',
      resultsCount_plural: '{{count}} paquets trouvés',
      showingLimited: 'Affichage de {{showing}} sur {{total}} paquets. Utilisez la recherche pour en voir plus.',
      totalCataloged: 'paquets catalogués disponibles pour la recherche',
      loading: 'Chargement des paquets...',
    },
    packageCard: {
      noDescription: 'Aucune description disponible',
      version: 'v{{version}}',
    },
    packageDetail: {
      publisher: 'Éditeur',
      description: 'Description',
      homepage: 'Site web',
      tags: 'Tags',
      installCommand: 'Commande d\'Installation',
      copyCommand: 'Copier la Commande d\'Installation',
      license: 'Licence',
    },
    emptyState: {
      title: 'Aucun paquet trouvé',
      withSearch: 'Aucun paquet ne correspond à "{{query}}". Essayez un terme différent ou effacez vos filtres.',
      withoutSearch: 'Commencez par rechercher un nom de paquet, ID ou éditeur.',
    },
    alerts: {
      mockData: 'Impossible de se connecter à l\'API GitHub. Affichage de données d\'exemple.',
      staticData: 'Affichage de données de paquets pré-traités - mis à jour chaque semaine',
      apiData: 'Connecté à l\'API GitHub - affichage de données en direct de microsoft/winget-pkgs',
      retry: 'Réessayer',
      copied: 'Commande d\'installation copiée dans le presse-papiers',
    },
    language: {
      label: 'Langue',
      'pt-BR': 'Português (Brasil)',
      'en-US': 'English (USA)',
      'es-ES': 'Español',
      'fr-FR': 'Français',
      'de-DE': 'Deutsch',
    },
    footer: {
      about: 'À propos',
      description: 'L\'Explorateur de Paquets Winget est une interface web pour rechercher et découvrir les applications disponibles sur Windows Package Manager (winget). Les données sont mises à jour chaque semaine depuis le dépôt officiel microsoft/winget-pkgs.',
      dataVersion: 'Données mises à jour le',
      siteVersion: 'Build du site',
      totalPackages: 'Total des paquets',
      viewOnGithub: 'Voir sur GitHub',
      wingetPkgs: 'winget-pkgs',
      workflowStatus: 'Statut du traitement des données',
      developedBy: 'Développé par',
      madeWith: 'Fait avec',
      by: 'par',
    },
  },
  'de-DE': {
    app: {
      title: 'Winget Paket-Explorer',
      subtitle: 'Suchen und erkunden Sie Windows Paketverwaltungs-Anwendungen',
    },
    search: {
      placeholder: 'Pakete nach Name, ID oder Herausgeber suchen...',
      categories: 'Kategorien',
      tags: 'Tags',
      allTags: 'Alle Tags',
      searchTag: 'Tag suchen...',
      noTagFound: 'Kein Tag gefunden.',
      allCategories: 'Alle Kategorien',
      searchCategory: 'Kategorie suchen...',
      noCategoryFound: 'Keine Kategorie gefunden.',
      clear: 'Löschen',
      showMore: '+{{count}} mehr',
      showLess: 'Weniger anzeigen',
      resultsCount: '{{count}} Paket gefunden',
      resultsCount_plural: '{{count}} Pakete gefunden',
      showingLimited: 'Zeige {{showing}} von {{total}} Paketen. Verwenden Sie die Suche, um mehr zu sehen.',
      totalCataloged: 'Pakete katalogisiert und durchsuchbar',
      loading: 'Pakete werden geladen...',
    },
    packageCard: {
      noDescription: 'Keine Beschreibung verfügbar',
      version: 'v{{version}}',
    },
    packageDetail: {
      publisher: 'Herausgeber',
      description: 'Beschreibung',
      homepage: 'Webseite',
      tags: 'Tags',
      installCommand: 'Installationsbefehl',
      copyCommand: 'Installationsbefehl kopieren',
      license: 'Lizenz',
    },
    emptyState: {
      title: 'Keine Pakete gefunden',
      withSearch: 'Keine Pakete entsprechen "{{query}}". Versuchen Sie einen anderen Suchbegriff oder löschen Sie Ihre Filter.',
      withoutSearch: 'Beginnen Sie mit der Suche nach einem Paketnamen, einer ID oder einem Herausgeber.',
    },
    alerts: {
      mockData: 'Verbindung zur GitHub-API nicht möglich. Zeige Beispieldaten an.',
      staticData: 'Zeige vorverarbeitete Paketdaten - wöchentlich aktualisiert',
      apiData: 'Verbunden mit GitHub-API - zeigt Live-Daten von microsoft/winget-pkgs',
      retry: 'Erneut versuchen',
      copied: 'Installationsbefehl in die Zwischenablage kopiert',
    },
    language: {
      label: 'Sprache',
      'pt-BR': 'Português (Brasil)',
      'en-US': 'English (USA)',
      'es-ES': 'Español',
      'fr-FR': 'Français',
      'de-DE': 'Deutsch',
    },
    footer: {
      about: 'Über',
      description: 'Der Winget Paket-Explorer ist eine Web-Oberfläche zum Suchen und Entdecken von Anwendungen, die im Windows Package Manager (winget) verfügbar sind. Die Daten werden wöchentlich aus dem offiziellen microsoft/winget-pkgs Repository aktualisiert.',
      dataVersion: 'Daten aktualisiert am',
      siteVersion: 'Site-Build',
      totalPackages: 'Gesamtzahl der Pakete',
      viewOnGithub: 'Auf GitHub ansehen',
      wingetPkgs: 'winget-pkgs',
      workflowStatus: 'Datenverarbeitungsstatus',
      developedBy: 'Entwickelt von',
      madeWith: 'Erstellt mit',
      by: 'von',
    },
  },
} as const

export type Language = keyof typeof translations
export type TranslationKeys = typeof translations['pt-BR']

function getNestedValue(obj: any, path: string): string {
  return path.split('.').reduce((acc, part) => acc?.[part], obj) || path
}

export function interpolate(text: string, params: Record<string, any>): string {
  return text.replace(/\{\{(\w+)\}\}/g, (_, key) => params[key]?.toString() || '')
}

export function t(language: Language, key: string, params?: Record<string, any>): string {
  const translation = getNestedValue(translations[language], key)
  
  if (params?.count !== undefined) {
    const pluralKey = params.count === 1 ? key : `${key}_plural`
    const pluralTranslation = getNestedValue(translations[language], pluralKey)
    if (pluralTranslation && pluralTranslation !== pluralKey) {
      return interpolate(pluralTranslation, params)
    }
  }
  
  return params ? interpolate(translation, params) : translation
}
